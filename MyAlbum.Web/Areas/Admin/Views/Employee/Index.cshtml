@using MyAlbum.Models.Shared
@{
    ViewData["Title"] = "員工清單";
    var listUrl = Url.Action("GetEmployeeList", "Employee", new { area = "Admin" });
}

<script src="~/js/simple-grid.js"></script>

<div class="container py-3">
    <h3 class="mb-3">@ViewData["Title"]</h3>

    <!-- 可選的查詢表單（name 對應 EmployeeListReq 的屬性） -->
    <form id="empSearch" class="row g-2 mb-3">
        @Html.AntiForgeryToken()
        <div class="col-auto">
            <input type="text" class="form-control" name="FullName" placeholder="姓名（模糊查）">
        </div>
        <div class="col-auto">
            <select class="form-select" name="PageSize" id="pageSizeSel">
                <option>10</option>
                <option>20</option>
                <option>50</option>
            </select>
        </div>
        <div class="col-auto">
            <button class="btn btn-primary" type="submit">查詢</button>
        </div>
    </form>

    @await Html.PartialAsync("_Grid", new GridOptions
    {
        ListUrl = listUrl,
        SearchFormId = "empSearch",
        TableId = "empTable",
        PagerId = "empPager",
        TotalId = "empTotal",
        PageSize = 10,
        Columns = new List<GridColumn> {
            new("employeeId", "EmployeeId", "110px"),
            new("fullName",   "FullName"),
            new("title",      "Title"),
            new("hireDate",   "HireDate", null, "date"),
            new("isActive",   "IsActive", "90px", "bool")
        }
    })
</div>